<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Login</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="./css/signup.css" >
    <link rel="stylesheet" href="./css/bs5css.css" >

    <style>
        .error {
  color: #F00;
  background-color: #FFF;
}
    </style>

</head>
<body>
    <div class="body">
    <div class="main">
        <!-- <div>
            Select Color For:
            <select class="bg">
                <option selected disabled >Background</option>
                <option value="red">Red</option>
                <option value="Black">Black</option>
                <option value="white">white</option>
                <option value="skyblue">skyblue</option>
                <option value="blue">blue</option>
                <option value="gold">golden</option>
                <option value="grey">grey</option>
            </select>
    
            <select class="font">
                <option selected disabled >Font</option>
                <option value="Red">Red</option>
                <option value="Black">Black</option>
                <option value="white">white</option>
                <option value="skyblue">skyblue</option>
                <option value="blue">blue</option>
                <option value="gold">golden</option>
                <option value="grey">grey</option>
            </select>
        </div> -->
        <div class="form">
            <h1>Signup</h1>
            
            <p class="theme">Theme<button class="btn-theme" id="themeid">Dark</button></p>
            <form id="signupform" enctype="multipart/form-data">
                <div class="row">
                    <div class="col">
                        <label class="lbl">Profile Pic:</label>
                        <input type="file" class="ppic" id="profilepic" name="profilepic" ><span class="ppicmsg "></span><br>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <input type="text" class="form-control fname" id="fname" name="fname" placeholder="Your First Name" ><span class="fnamemsg text-danger"></span><br>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <input type="text" class="form-control lname" id="lname" name="lname" placeholder="Your Last Name" ><span class="lnamemsg text-danger"></span><br>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <input type="email" class="form-control mail" id="email" name="email" placeholder="Your Mail" ><span class="mailmsg text-danger"></span><br>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <label class="lbl">Gender:</label><span class="genmsg text-danger"></span>
                        <input type="radio" class="gen"  id="gender" name="gender">Male
                        <input type="radio" class="gen"  id="gender" name="gender">Female
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-12"> 
                        <textarea type="text" class="form-control desc" id="description" name="description" placeholder="Description" ></textarea><span class="textareamsg text-danger"></span><br>                        
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <label class="lbl">Hobbies:</label><span class="hobmsg text-danger"></span>
                        <input type="checkbox" id="hobbies" value="Sports" name="hobbies[]" class="hob" >Sports
                        <input type="checkbox" id="hobbies" value="Music" name="hobbies[]" class="hob" >Music
                        <input type="checkbox" id="hobbies" value="Reading" name="hobbies[]" class="hob" >Reading
                        <input type="checkbox" id="hobbies" value="Coding" name="hobbies[]" class="hob" >Coding
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <input type="password" class="form-control pass" id="password" name="password" name="password" placeholder="Your Password" ><span class="passmsg text-danger"></span><br>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <input type="password" class="form-control pass" name="confpassword" placeholder="Confirm Password" ><span class="passmsg text-danger"></span><br>
                    </div>
                </div>

                <input type="submit" class="signup-btn" value="Sigup">

                <div class="nu">New User? <a class="login-btn" href="./login.html">Login</a></div>
            </form>
        </div>
        
    </div>
    </div>


    <script src="./jquery.min.js"></script>
    <script src="./signupjquery.js"></script>
    <script src="./jquery.validate.js"></script>
    <script src="./jquery.validate.min.js"></script>
    <script src="./ajaxcrud.js"></script>
    <script>
        $(document).ready(function(){

            // $('#signupform').validate({ // initialize the plugin
            //     rules: {
            //         profilepic: {
            //             required: true,
            //             // accept: "jpg|jpeg|png|ico|bmp",
            //         },
            //         fname: "required",
            //         lname: "required",
            //         email: {
            //             required: true,
            //             email: true,
            //         },
            //         gender: "required",
            //         description: "required",
            //         hobbies: "required",
            //         password: {
            //             required: true,
            //             minlength: 8,
            //         },
            //         confpassword: {
            //             required: true,
            //             minlength: 8,
            //             equalTo: "#password",
            //         },
            //         messages:{
            //             profilepic: "Select Profile Image",
            //             fname: "Enter First Name",
            //             lnme: "Enter Last Name",
            //             email: "Enter E-mail",
            //             gender: "Select Your Gender",
            //             description: "Enter Description",
            //             hobbies: "Select Your Hobbies",
            //             password: "Enter Password With min 8 Char",
            //             confpassword: "Enter Confirm Password",
            //         },
            //         success: function() {
                    
                    
            //         }
            //     }
            // });    

             $(".signup-btn").click(function(e){
                 
                // e.preventDefault();
                  // img type validation
                $('input[type=file]').change(function(e){
                    var file = $(this).val();
                    var ext = file.split('.').pop();
                    if(ext != "png" && ext != "jpg" && ext != "jpeg"){
                        $(".ppicmsg").text("select valid image");
                    }else{
                    $(".ppicmsg").text("ok");
                    }
                    // $(".ppicmsg").text(ext);
                });


        // e.preventDefault();

        if($(".ppic").val() == ""){
            e.preventDefault();
            $(".ppicmsg").text("Select Profile Pic");
        }else if($(".fname").val() == ""){
            e.preventDefault();
            $(".fnamemsg").text("Enter First Name");
        }else if($(".lname").val() == ""){
            e.preventDefault();
            $(".lnamemsg").text("Enter Last Name");
        }else if($(".mail").val() == ""){
            e.preventDefault();
            $(".mailmsg").text("Enter Last Name");
        }else if($(".gen").val() == ""){
            e.preventDefault();
            $(".genmsg").text("Enter Last Name");
        }else if($(".desc").val() == ""){
            e.preventDefault();
            $(".textareamsg").text("Enter Last Name");
        }else if($(".hob").val() == ""){
            e.preventDefault();
            $(".hobmsg").text("Enter Last Name");
        }else if($(".pass").val() == ""){
            e.preventDefault();
            $(".passmsg").text("Enter Last Name");
        }
        else{
            var profilepic = $("#profilepic").val();
            var fname = $("#fname").val();
            var lname = $("#lname").val();
            var email = $("#email").val();
            var gender = $("#gender").val();
            var description = $("#description").val();
            var hobbies = new Array();
                $('input[name="hobbies[]"]:checked').each(function(){
                hobbies.push($(this).val());
            });
            var dataString = ''+ hobbies;
            var password = $("#password").val();
            $.ajax({
                type: "POST",
                url: "signup.php",
                data: {
                    profilepic: profilepic,
                    fname: fname,
                    lname: lname,
                    email: email,
                    gender: gender,
                    description: description,
                    dataString: dataString,
                    password: password,
                },
                cache: false,
                success: function(data){
                    $(".body").html(data);
                },
                error: function(xhr, status, error){
                    console.log(xhr);
                }
            });
        }
    });
    });
    

                

            
    </script>
</body>
</html>